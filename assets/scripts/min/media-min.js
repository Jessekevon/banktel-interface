!function($){"use strict";function a(){for(var a=navigator.plugins||[],e=0;e<a.length;e++){var t=a[e];if("np-mswmp.dll"==t.filename)return!0}return!1}function e(){var a="";for(var e in $.fn.media.defaults.players)a.length&&(a+=","),a+=$.fn.media.defaults.players[e].types;return new RegExp("\\.("+a.replace(/,/gi,"|")+")\\b")}function t(a){return function(e,t){return s(e,t,a)}}function i(a){return"0123456789".indexOf(a)>-1}function r(a,e){e=e||{};var t,i,r=$(a),s=a.className||"",n=$.metadata?r.metadata():$.meta?r.data():{};n=n||{};var l=n.width||parseInt((s.match(/\bw:(\d+)/)||[])[1]||0,10)||parseInt((s.match(/\bwidth:(\d+)/)||[])[1]||0,10),o=n.height||parseInt((s.match(/\bh:(\d+)/)||[])[1]||0,10)||parseInt((s.match(/\bheight:(\d+)/)||[])[1]||0,10);l&&(n.width=l),o&&(n.height=o),s&&(n.cls=s);for(var p="data-",d=0;d<a.attributes.length;d++){t=a.attributes[d],i=$.trim(t.name);var m=i.indexOf(p);0===m&&(i=i.substring(p.length),n[i]=t.value)}t=$.fn.media.defaults;var f=e,h=n,c={params:{bgColor:e.bgColor||$.fn.media.defaults.bgColor}},u=$.extend({},t,f,h);return $.each(["attrs","params","flashvars","silverlight"],function(a,e){u[e]=$.extend({},c[e]||{},t[e]||{},f[e]||{},h[e]||{})}),"undefined"==typeof u.caption&&(u.caption=r.text()),u.src=u.src||r.attr("href")||r.attr("src")||"unknown",u}function s(a,e,t){var i=$(a),r=$.fn.media.defaults.players[t],s,n,p;if("iframe"==t)r=$('<iframe width="'+e.width+'" height="'+e.height+'" >'),r.attr("src",e.src),r.css("backgroundColor",r.bgColor);else if("img"==t)r=$("<img>"),r.attr("src",e.src),e.width&&r.attr("width",e.width),e.height&&r.attr("height",e.height),r.css("backgroundColor",r.bgColor);else if(o){s=['<object width="'+e.width+'" height="'+e.height+'" '];for(n in e.attrs)s.push(n+'="'+e.attrs[n]+'" ');for(n in r.ieAttrs||{})p=r.ieAttrs[n],"codebase"==n&&"https:"==window.location.protocol&&(p=p.replace("http","https")),s.push(n+'="'+p+'" ');s.push("></object>");var d=['<param name="'+(r.oUrl||"src")+'" value="'+e.src+'">'];for(n in e.params)d.push('<param name="'+n+'" value="'+e.params[n]+'">');r=document.createElement(s.join(""));for(var m=0;m<d.length;m++)r.appendChild(document.createElement(d[m]))}else if(e.standards){if(s=['<object type="'+r.mimetype+'" width="'+e.width+'" height="'+e.height+'"'],e.src&&s.push(' data="'+e.src+'" '),l)for(n in r.ieAttrs||{})p=r.ieAttrs[n],"codebase"==n&&"https:"==window.location.protocol&&(p=p.replace("http","https")),s.push(n+'="'+p+'" ');s.push(">"),s.push('<param name="'+(r.oUrl||"src")+'" value="'+e.src+'">');for(n in e.params)("wmode"!=n||"flash"==t)&&s.push('<param name="'+n+'" value="'+e.params[n]+'">');s.push("<div><p><strong>"+r.title+" Required</strong></p><p>"+r.title+' is required to view this media. <a href="'+r.pluginspage+'">Download Here</a>.</p></div>'),s.push("</object>")}else{s=['<embed width="'+e.width+'" height="'+e.height+'" style="display:block"'],e.src&&s.push(' src="'+e.src+'" ');for(n in e.attrs)s.push(n+'="'+e.attrs[n]+'" ');for(n in r.eAttrs||{})s.push(n+'="'+r.eAttrs[n]+'" ');for(n in e.params)("wmode"!=n||"flash"==t)&&s.push(n+'="'+e.params[n]+'" ');s.push("></embed>")}var f=a.id?' id="'+a.id+'"':"",h=e.cls?' class="'+e.cls+'"':"",c=$("<div"+f+h+">");return i.after(c).remove(),o||"iframe"==t||"img"==t?c.append(r):c.html(s.join("")),e.caption&&$("<div>").appendTo(c).html(e.caption),c}var n=document.documentMode||0,l=/MSIE/.test(navigator.userAgent),o=l&&(/MSIE (6|7|8)\.0/.test(navigator.userAgent)||9>n);$.fn.media=function(a,t,s){return"undo"==a?this.each(function(){var a=$(this),e=a.data("media.origHTML");e&&a.replaceWith(e)}):this.each(function(){"function"==typeof a&&(s=t,t=a,a={});var n=r(this,a);"function"==typeof t&&t(this,n);var l=e(),o=l.exec(n.src.toLowerCase())||[""],p;n.type?o[0]=n.type:o.shift();for(var d=0;d<o.length;d++)if(p=o[d].toLowerCase(),i(p[0])&&(p="fn"+p),$.fn.media[p]){var m=$.fn.media[p+"_player"];if(n.params||(n.params={}),m){var f="autostart"==m.autoplayAttr;n.params[m.autoplayAttr||"autoplay"]=f?n.autoplay?1:0:n.autoplay?!0:!1}var h=$.fn.media[p](this,n);if(h.css("backgroundColor",n.bgColor).width(n.width),n.canUndo){var c=$("<div></div>").append(this);h.data("media.origHTML",c.html())}"function"==typeof s&&s(this,h[0],n,m.name);break}})},$.fn.media.mapFormat=function(a,e){a&&e&&$.fn.media.defaults.players[e]&&(a=a.toLowerCase(),i(a[0])&&(a="fn"+a),$.fn.media[a]=$.fn.media[e],$.fn.media[a+"_player"]=$.fn.media.defaults.players[e])},$.fn.media.defaults={standards:!0,canUndo:!0,width:400,height:400,autoplay:0,bgColor:"#ffffff",params:{wmode:"transparent"},attrs:{},flvKeyName:"file",flashvars:{},flashVersion:"7",expressInstaller:null,flvPlayer:"mediaplayer.swf",mp3Player:"mediaplayer.swf",silverlight:{inplaceInstallPrompt:"true",isWindowless:"true",framerate:"24",version:"0.9",onError:null,onLoad:null,initParams:null,userContext:null}},$.fn.media.defaults.players={flash:{name:"flash",title:"Flash",types:"flv,mp3,swf",mimetype:"application/x-shockwave-flash",pluginspage:"http://www.adobe.com/go/getflashplayer",ieAttrs:{classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",type:"application/x-oleobject",codebase:"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+$.fn.media.defaults.flashVersion}},quicktime:{name:"quicktime",title:"QuickTime",mimetype:"video/quicktime",pluginspage:"http://www.apple.com/quicktime/download/",types:"aif,aiff,aac,au,bmp,gsm,mov,mid,midi,mpg,mpeg,mp4,m4a,psd,qt,qtif,qif,qti,snd,tif,tiff,wav,3g2,3gp",ieAttrs:{classid:"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",codebase:"http://www.apple.com/qtactivex/qtplugin.cab"}},realplayer:{name:"real",title:"RealPlayer",types:"ra,ram,rm,rpm,rv,smi,smil",mimetype:"audio/x-pn-realaudio-plugin",pluginspage:"http://www.real.com/player/",autoplayAttr:"autostart",ieAttrs:{classid:"clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA"}},winmedia:{name:"winmedia",title:"Windows Media",types:"asx,asf,avi,wma,wmv",mimetype:a()?"application/x-ms-wmp":"application/x-mplayer2",pluginspage:"http://www.microsoft.com/Windows/MediaPlayer/",autoplayAttr:"autostart",oUrl:"url",ieAttrs:{classid:"clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6",type:"application/x-oleobject"}},img:{name:"img",title:"Image",types:"gif,png,jpg"},iframe:{name:"iframe",types:"html,pdf"},silverlight:{name:"silverlight",types:"xaml"}};var p=1;for(var d in $.fn.media.defaults.players){var m=$.fn.media.defaults.players[d].types;$.each(m.split(","),function(a,e){i(e[0])&&(e="fn"+e),$.fn.media[e]=$.fn.media[d]=t(d),$.fn.media[e+"_player"]=$.fn.media.defaults.players[d]})}$.fn.media.swf=function(a,e){var t,i;if(!window.SWFObject&&!window.swfobject){if(e.flashvars){var r=[];for(t in e.flashvars)r.push(t+"="+e.flashvars[t]);e.params||(e.params={}),e.params.flashvars=r.join("&")}return s(a,e,"flash")}var n=a.id?' id="'+a.id+'"':"",l=e.cls?' class="'+e.cls+'"':"",o=$("<div"+n+l+">");if(window.swfobject)$(a).after(o).appendTo(o),a.id||(a.id="movie_player_"+p++),window.swfobject.embedSWF(e.src,a.id,e.width,e.height,e.flashVersion,e.expressInstaller,e.flashvars,e.params,e.attrs);else{$(a).after(o).remove();var d=new SWFObject(e.src,"movie_player_"+p++,e.width,e.height,e.flashVersion,e.bgColor);e.expressInstaller&&d.useExpressInstall(e.expressInstaller);for(i in e.params)"bgColor"!=i&&d.addParam(i,e.params[i]);for(t in e.flashvars)d.addVariable(t,e.flashvars[t]);d.write(o[0])}return e.caption&&$("<div>").appendTo(o).html(e.caption),o},$.fn.media.flv=$.fn.media.mp3=function(a,e){var t=e.src,i=/\.mp3\b/i.test(t)?e.mp3Player:e.flvPlayer,r=e.flvKeyName;t=encodeURIComponent(t),e.src=i,e.src=e.src+"?"+r+"="+t;var s={};return s[r]=t,e.flashvars=$.extend({},s,e.flashvars),$.fn.media.swf(a,e)},$.fn.media.xaml=function(a,e){if(!window.Sys||!window.Sys.Silverlight){if($.fn.media.xaml.warning)return;return $.fn.media.xaml.warning=1,void alert("You must include the Silverlight.js script.")}var t={width:e.width,height:e.height,background:e.bgColor,inplaceInstallPrompt:e.silverlight.inplaceInstallPrompt,isWindowless:e.silverlight.isWindowless,framerate:e.silverlight.framerate,version:e.silverlight.version},i={onError:e.silverlight.onError,onLoad:e.silverlight.onLoad},r=a.id?' id="'+a.id+'"':"",s=e.id||"AG"+p++,n=e.cls?' class="'+e.cls+'"':"",l=$("<div"+r+n+">");return $(a).after(l).remove(),Sys.Silverlight.createObjectEx({source:e.src,initParams:e.silverlight.initParams,userContext:e.silverlight.userContext,id:s,parentElement:l[0],properties:t,events:i}),e.caption&&$("<div>").appendTo(l).html(e.caption),l}}(jQuery);